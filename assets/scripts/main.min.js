"use strict";function simulateClick(e){var t=new window.MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}function initialize(){console.log("Welcome! ðŸ‘‹"),activateStickyScrollPadding(),getContactEmail(),getNetworkStatus(),getSound()}function activateStickyScrollPadding(){var e=document.querySelector(".navbar");e&&(e=e.offsetHeight,document.documentElement.style.setProperty("--scroll-padding","".concat(e,"px")))}"serviceWorker"in navigator&&navigator.serviceWorker.register("./serviceWorker.js").then(function(){console.log("Service Worker is Registered")}),document.addEventListener("keydown",function(e){var t=e.target;"Enter"===e.key&&t.classList.contains("skip")&&(simulateClick(t),history.pushState?history.pushState("",document.title,window.location.pathname):location="/")}),window.addEventListener("load",initialize);var menu=document.querySelector("button#menu");function getOverlay(){var e=document.querySelector("#info[data-open]");"false"==e.getAttribute("data-open")?(e.setAttribute("data-open","true"),e.previousElementSibling.setAttribute("data-open","false"),menu.textContent="Close Info"):(e.setAttribute("data-open","false"),e.previousElementSibling.setAttribute("data-open","true"),menu.textContent="Info")}function getContactEmail(){var e=document.querySelectorAll("[data-email]");Array.from(e).forEach(function(t){function n(e){t.id==e.target.id?(e=(e="helloATfebreroDOTinfo").replace(/AT/,"@").replace(/DOT/,"."),t.setAttribute("data-email","true"),t.setAttribute("href","mailto:".concat(e))):(t.setAttribute("data-email","false"),t.removeAttribute("data-value"),t.removeAttribute("href"),t.removeAttribute("rel"),t.removeAttribute("target"))}document.addEventListener("click",function(e){n(e)}),document.addEventListener("keydown",function(e){"Enter"===e.key&&n(e)})})}function getNetworkStatus(){var e=document.querySelector("#status"),t=document.querySelector("#online"),n=document.querySelector("#offline");function a(){"offline"==(navigator.onLine?"online":"offline")?(e.setAttribute("data-open","true"),n.setAttribute("data-open","true"),t.setAttribute("data-open","false")):(e.setAttribute("data-open","true"),t.setAttribute("data-open","true"),n.setAttribute("data-open","false"),setTimeout(function(){t.setAttribute("data-open","false"),e.setAttribute("data-open","false")},5800))}window.addEventListener("online",a),window.addEventListener("offline",a)}menu&&menu.addEventListener("click",getOverlay);var entryValue=document.querySelector("#section"),sections=["January","February","March","April","May","June","July","August","September","October","November","December"],initialSections=["January","February","March","April","May","June","July","August","September","October","November","December"],darkColors=(entryValue&&(entryValue.addEventListener("keyup",function(){var e=entryValue.value;""!==e&&(sections=e.split("\n"),clearCanvas(),totalSections=sections.length,arc=canvasConstantTAU/totalSections,sections.forEach(drawSections)),e.length<=1&&(sections=e="",clearCanvas(),emptySections())}),entryValue.addEventListener("keydown",function(){entryValue.value})),["#FF0000","#FF7F00","#FFFF00","#7FFF00","#00FF00","#00FF7F","#00FFFF","#007FFF","#0000FF","#7F00FF","#FF00FF","#FF007F"]),colors=["#FF6161","#FF7F00","#FFFF00","#7FFF00","#00FF00","#00FF7F","#00FFFF","#007FFF","#8A8AFF","#BA75FF","#FF29FF","#FF52A8"],disabledColors=["#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca","#c7c8ca"],random=function(e,t){return Math.random()*(t-e)+e},totalSections=sections.length,spinElement=document.querySelector("#spin"),canvasElement=document.querySelector("#wheel"),canvasContext=canvasElement.getContext("2d"),result=(canvasContext.imageSmoothingEnabled=!0,document.querySelector("#result")),article=document.querySelector("#article"),reset=document.querySelector("#reset"),canvasDiameter=canvasContext.canvas.width,canvasRadius=canvasDiameter/2,canvasCircumference=Math.PI,canvasConstantTAU=2*canvasCircumference,arc=canvasConstantTAU/totalSections,friction=.991,angleVelocityMin=.002,angleVelocityMax=0,angleVelocity=0,angle=0,isSpinning=!1,isAccelerating=!1,animateFrame=null,getIndex=function(){return Math.floor(totalSections-angle/canvasConstantTAU*totalSections)%totalSections};function emptySections(){canvasContext.beginPath(),canvasContext.arc(canvasRadius,canvasRadius,canvasRadius-5,0,2*Math.PI),canvasContext.lineWidth=5,canvasContext.strokeStyle="#333",canvasContext.stroke()}function drawSections(e,t){var n=arc*t;canvasContext.save(),canvasContext.beginPath(),canvasContext.fillStyle=colors[t%12],canvasContext.moveTo(canvasRadius,canvasRadius),canvasContext.arc(canvasRadius,canvasRadius,canvasRadius-5,n,n+arc),canvasContext.lineTo(canvasRadius,canvasRadius),canvasContext.fill(),canvasContext.lineWidth=5,canvasContext.strokeStyle="#333",canvasContext.stroke(),canvasContext.translate(canvasRadius,canvasRadius),canvasContext.rotate(n+arc/2),canvasContext.textAlign="right",canvasContext.fillStyle="#333",canvasContext.font="bold 20px sans-serif",canvasContext.fillText(e,canvasRadius-20,5),canvasContext.restore()}function rotate(){var e=sections[getIndex()];canvasContext.canvas.style.transform="rotate(".concat(angle-canvasCircumference/2,"rad)"),angleVelocity||(result.textContent=e,article.textContent=e,article.parentNode.removeAttribute("disabled"),reset.removeAttribute("disabled"))}function frame(){isSpinning&&((isAccelerating=angleVelocityMax<=angleVelocity?!1:isAccelerating)?(angleVelocity=angleVelocity||angleVelocityMin,angleVelocity*=1.06,audio.playbackRate=1.06):(isAccelerating=!1,angleVelocity*=friction,audio.playbackRate=friction,angleVelocity<angleVelocityMin&&(isSpinning=!1,angleVelocity=0,cancelAnimationFrame(animateFrame),!0===isOn)&&stopSound()),angle=(angle+angleVelocity)%canvasConstantTAU,rotate())}function engine(){frame(),animateFrame=requestAnimationFrame(engine)}spinElement.addEventListener("click",function(){isSpinning||(isAccelerating=isSpinning=!0,angleVelocityMax=random(.25,.4),engine(),!0===isOn&&playSound())}),formatInputSectionValues(sections=initialSections),sections.forEach(drawSections),rotate(),result.textContent="";var initialResult=result.textContent,initialArticle=(article.textContent="selected item",article.textContent);function formatInputSectionValues(e){entryValue.value=e;e=entryValue.value.replace(/,/g,"\n");entryValue.value=e}function repaintSections(){totalSections=sections.length,arc=canvasConstantTAU/totalSections,sections.forEach(drawSections)}article.parentNode.setAttribute("disabled",""),reset.setAttribute("disabled","");var remove=document.querySelector("#remove");function removeSection(){var t=sections[getIndex()];formatInputSectionValues(sections=sections.filter(function(e){return e!==t})),clearCanvas(),repaintSections(),sections.length<=0&&emptySections(),"false"!==article.parentNode.hasAttribute("disabled")&&(article.parentNode.setAttribute("disabled",""),article.textContent=initialArticle,result.textContent=initialResult)}function clearCanvas(){canvasContext.clearRect(0,0,canvasContext.canvas.width,canvasContext.canvas.height),canvasContext.arc(canvasRadius,canvasRadius,canvasRadius-5,0,2*Math.PI),canvasContext.fillStyle="rgba(32, 35, 42, .15)",canvasContext.fill()}function resetCanvas(){formatInputSectionValues(sections=initialSections),clearCanvas(),repaintSections(),canvasContext.canvas.style.transform="rotate(-1.5708rad)",result.textContent=initialResult,article.textContent=initialArticle,"false"!==reset.hasAttribute("disabled")&&reset.setAttribute("disabled","")}remove.addEventListener("click",removeSection),reset.addEventListener("click",resetCanvas);var audio=new Audio("./assets/sounds/flow.mp3"),audioOn=document.querySelector("#sound"),isOn=!1;function getSound(){audioOn&&audioOn.addEventListener("change",function(){isOn=!!audioOn.checked})}function playSound(){audio.currentTime=0,audio.play(),audio.loop=!0,audio.volume=.3}function stopSound(){audio.pause()}function displayTop(){var e=document.querySelector("#up");e&&(375<=document.body.scrollTop||375<=document.documentElement.scrollTop?e.setAttribute("data-open","true"):e.setAttribute("data-open","false"),e.addEventListener("click",getTop,scrollToTop))}function getTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function scrollToTop(){var e=-window.scrollY/(500/15),t=setInterval(function(){0!==window.scrollY?window.scrollBy(0,e):clearInterval(t)},15)}window.addEventListener("scroll",displayTop);
//# sourceMappingURL=main.min.map
